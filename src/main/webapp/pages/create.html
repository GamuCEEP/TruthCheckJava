<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TruthCheck - The Role-Play Assistant</title>
  <link rel="icon" href="/TruthCheckJava/images/logo.png" />

  <link rel="stylesheet" href="/TruthCheckJava/pages/css/root.css">
  <link rel="stylesheet" href="/TruthCheckJava/pages/css/create.css">
  <link rel="stylesheet" href="/TruthCheckJava/components/form.css">
  <link rel="stylesheet" href="/TruthCheckJava/components/menu/menu.css">

  <script src="/TruthCheckJava/pages/js/root.js"></script>
  <script defer src="/TruthCheckJava/components/menu/menu.js"></script>
</head>

<body>
  <header>
    <div id="logo">
      <a href="/TruthCheckJava/home">
        <img src="/TruthCheckJava/images/logo.png" alt="~TC~" width="80">
      </a>
    </div>

    <div>
      <!-- SearchBar -->
    </div>

    <div id="userIcon">

      <div id="anonUser" style="display: none;">
        <a href="/TruthCheck/welcome">Entrar / Registrarse</a>
      </div>

      <div id="loggedUser" class="modal" style="display: none;">
        <button class="menu-button"></button>
        <menu class="modal hidden" tabindex="-1">
          <p></p>
          <a href="/TruthCheckJava/explore">Explorar</a>
          <a href="/TruthCheckJava/play">Jugar</a>
          <a href="/TruthCheckJava/w/user/logout">Cerrar sesion</a>
        </menu>
      </div>

    </div>
    <script>
      ; (async () => {
        const anon = $('#anonUser')
        const logged = $('#loggedUser')

        const userName = (await getUser())?.name

        if(userName === undefined){
          anon.removeAttribute('style') //show anon div
          return
        }

        const icon = $('button',logged)
        icon.innerText = userName.slice(0,2)
        const menuName = $('p',logged)
        menuName.innerText = userName
        logged.removeAttribute('style') //show logged div

      })()
    </script>
  </header>
  <main>
    <div>
      <!-- Crear desde 0 -->
    </div>
    <!-- Autofill con cosas creadas por ti -->
  </main>
  <aside>

  </aside>
</body>

</html>